<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>13.1. Object-oriented concepts &#8212; Intermediate Modern C++ Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/matrixeq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webgldemo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webglinteractive.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js_lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/accessibility.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../_static/Blob.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13.2. Unified modelling language" href="uml.html" />
    <link rel="prev" title="13. Class design" href="toctree.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/intermediate-cpp/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'https://daveparillo.github.io/intermediate-cpp/' ? 'https://daveparillo.github.io/intermediate-cpp/' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/intermediate-cpp';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'intermediate-cpp';
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'cpp'
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = false;
  eBookConfig.basecourse = 'intermediate-cpp';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.runestone_version = '3.2.6';
</script>


  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='padding:12px 0;text-align:center' href="http://209.129.16.61/~dparillo/">
           <i class="glyphicon glyphicon-home" style='opacity:0.9;font-size:16px;color:#848484'></i>
        </a>
        <!--
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/intermediate-cpp/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="/~dparillo" style="color:#5080a0">CISC-187</a>&nbsp;
        -->
        <a class="navbar-brand" href="../index.html">Intermediate C++</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='https://daveparillo.github.io/intermediate-cpp//genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='https://daveparillo.github.io/intermediate-cpp//help/navhelp.html'>Navigation Help</a></li>
            <li><a href='https://daveparillo.github.io/intermediate-cpp//glossary.html'>Glossary</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">13.1. Object-oriented concepts</a><ul>
<li><a class="reference internal" href="#object-oriented-programming-principles">13.1.1. Object-oriented programming principles</a></li>
<li><a class="reference internal" href="#encapsulation">13.1.2. Encapsulation</a></li>
<li><a class="reference internal" href="#inheritance">13.1.3. Inheritance</a></li>
<li><a class="reference internal" href="#polymorphism">13.1.4. Polymorphism</a></li>
<li><a class="reference internal" href="#abstraction">13.1.5. Abstraction</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 13. Class design" data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 13.2. Unified modelling language' data-toggle="tooltip" >
    <a href="uml.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="object-oriented-concepts">
<span id="index-0"></span><h1>13.1. Object-oriented concepts<a class="headerlink" href="#object-oriented-concepts" title="Permalink to this headline">¶</a></h1>
<p>Object-oriented programming (OOP) is a programming paradigm based on the
concept of <a class="reference internal" href="../glossary.html#term-object"><span class="xref std std-term">objects</span></a>, which are <a class="reference internal" href="../glossary.html#term-data-structure"><span class="xref std std-term">data structures</span></a> that contain data,
in the form of fields (or attributes)
and code, in the form of procedures, (or functions, or methods).
A distinguishing feature of objects is that an object’s procedures
provide access to and modify its fields.</p>
<p>In object-oriented programming, computer programs are created
out of objects that interact with one another.
There is significant diversity in object-oriented programming,
but most popular languages are class-based,
meaning that objects are instances of classes,
which typically also determines their type.</p>
<p>Object orientation is an outgrowth of procedural programming.
Procedural programming is based upon the concept of the procedure call.
Procedures, also known as functions, subroutines,
or methods define the computational steps to be carried out.</p>
<p>Any given procedure might be called at any point during a program’s execution,
including by other procedures or itself.
Procedural programming is a list or set of instructions telling a
computer what to do step by step and how to perform from the first
code to the second code.
Procedural programming languages include C, Fortran, Pascal, and BASIC.</p>
<p>The focus of procedural programming is to break down a programming task into
a collection of variables, data structures, and functions.
In object-oriented programming the primary effort
involves breaking down a programming task into
<strong>classes</strong>.
Each class defines data that is commonly private.
The private data is manipulated using the publicly available functions.
The public functions define the class <strong>interface</strong>.</p>
<p>The most important distinction is that
while procedural programming uses procedures to operate on data structures,
object-oriented programming bundles the two together,
so an <strong>object</strong>, which is an <strong>instance of a class</strong>,
manipulates its own data.</p>
<div class="section" id="object-oriented-programming-principles">
<span id="index-1"></span><h2>13.1.1. Object-oriented programming principles<a class="headerlink" href="#object-oriented-programming-principles" title="Permalink to this headline">¶</a></h2>
<p>There are many views on the main features and motivations for object
oriented programming <a class="footnote-reference" href="#id3" id="id1">[1]</a> <a class="footnote-reference" href="#id4" id="id2">[2]</a>.
There are 4 principles that apply to most:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Encapsulation:</th><td class="field-body"><p class="first">Encapsulation refers to the creation of self-contained modules (classes)
that bind processing functions to its data members.
The data within each class is kept private.
Each class defines rules for what is publicly visible and
what modifications are allowed.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Inheritance:</th><td class="field-body"><p class="first">Classes may be created in hierarchies, and inheritance lets the
structure and methods in one class pass down the <a class="reference internal" href="../glossary.html#term-class-hierarchy"><span class="xref std std-term">class hierarchy</span></a>.
By <em>inheriting</em> code, complex behaviors emerge
through the reuse of code in a parent class.
If a step is added at the bottom of a hierarchy,
only the processing and data associated with that unique step must be added.
Everything else above that step may be inherited.
Reuse is considered a major advantage of object orientation.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Polymorphism:</th><td class="field-body"><p class="first">Object oriented programming lets programmers create procedures for
objects whose exact type is not known until runtime.
For example, a screen cursor may change its shape from an arrow to a
line depending on the program mode.
The routine to move the cursor on screen in response to mouse movement can
be written for “cursor”, and polymorphism lets the right version
for the given shape be called.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Abstraction:</th><td class="field-body"><p class="first">An abstraction denotes the essential characteristics of an object
that distinguish it from all other kinds of objects and thus
provide crisply defined conceptual boundaries, relative to the
perspective of the viewer.</p>
<p class="last">Abstraction denotes a model, a view, or some other focused representation
for an actual item.
It’s the development of a software object to represent
an object we can find in the real world.
Encapsulation hides the details of that implementation.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="encapsulation">
<span id="index-2"></span><h2>13.1.2. Encapsulation<a class="headerlink" href="#encapsulation" title="Permalink to this headline">¶</a></h2>
<p>Consider the following example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>

<span class="c1">// A class with no encapsulation</span>
<span class="k">struct</span> <span class="n">BadShipping</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">weight</span><span class="p">;</span>      <span class="c1">// in pounds</span>
  <span class="kt">int</span> <span class="n">distance</span><span class="p">;</span>    <span class="c1">// in miles</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">address</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">BadShipping</span> <span class="n">bad</span><span class="p">;</span>
    <span class="n">bad</span><span class="p">.</span><span class="n">weight</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>  <span class="c1">// Nothing prevents me from doing this</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It’s clearly a bad idea to allow people to set the shipping weight to
a negative value.
In this case, we say our class has <em>invariants</em>:
constraints on data that must be preserved for the class to remain valid.
In this case, the shipping weight of items must be &gt; 0.</p>
<p>How can you change this class to prevent problems like this from happening?
One solution is to make the <code class="docutils literal notranslate"><span class="pre">weight</span></code> private and write a method
that allows the class to set limits on weight.
Unfortunately, if we had already delivered our BadShipping code, then
as you make this ‘fix’, you break every class that currently uses it,
including those that already obey the class invariant.
It would have been much better to deliver code that could have been more easily
changed in the first place.</p>
<p>The ability to change your code without breaking every class that uses
it is one of the key benefits of encapsulation.
By limiting access and hiding the implementation details of your class
to the maximum extent possible, you make it possible to change, fix,
extend, or rework your class without requiring changes in any of the
code that uses your class.</p>
<p>How do we ensure our code remains flexible and maintainable?</p>
<ul class="simple">
<li>Keep fields hidden using a <em>private</em> access modifier</li>
<li>Make <em>public accessor methods</em> and force callers to use them
by hiding your fields.</li>
<li>Encourage programming to <em>interfaces</em> instead of <em>implementation</em>.
More on this later.</li>
</ul>
<p>Compare our first example with the following:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// A class with simple encapsulation</span>
<span class="k">class</span> <span class="nc">BetterShipping</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">unsigned</span> <span class="n">weight</span><span class="p">()</span>   <span class="p">{</span> <span class="k">return</span> <span class="n">weight_</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="n">weight</span><span class="p">(</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">weight_</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">unsigned</span> <span class="n">distance</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">distance_</span><span class="p">;</span> <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">address</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">address_</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// other mutators ommitted . . .</span>
  <span class="k">private</span><span class="o">:</span>
    <span class="kt">unsigned</span> <span class="n">weight_</span><span class="p">;</span>      <span class="c1">// in pounds</span>
    <span class="kt">unsigned</span> <span class="n">distance_</span><span class="p">;</span>    <span class="c1">// in miles</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">address_</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>You might be thinking
“Hey! How is this any better than the first example?”
We added methods to set and get the weight, but added no new
capability.
What have we gained?</p>
<p>We have gained quite a bit.
Now we are free to change our minds about how weight values are set
and retrieved.
Even though we aren’t doing anything now, we are free to change the
implementation later and no calling class will know.</p>
<p>Good OO design demands thinking about the future.
Which brings us to our final example.
No classes would need to be modified to add the new capability below.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>

<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">int</span> <span class="n">min_weight</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">EvenBetterShipping</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="n">EvenBetterShipping</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">EvenBetterShipping</span><span class="p">(</span><span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">a</span><span class="p">)</span> <span class="o">:</span>
      <span class="n">weight_</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">min_weight</span><span class="p">,</span> <span class="n">w</span><span class="p">)},</span> <span class="n">distance_</span><span class="p">{</span><span class="n">d</span><span class="p">},</span> <span class="n">address_</span><span class="p">{</span><span class="n">a</span><span class="p">}</span>
    <span class="p">{}</span>

    <span class="kt">int</span>  <span class="n">weight</span><span class="p">()</span>          <span class="p">{</span> <span class="k">return</span> <span class="n">weight_</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="n">weight</span><span class="p">(</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">weight_</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">min_weight</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>  <span class="c1">// no upper limit on weight</span>
    <span class="p">}</span>


    <span class="kt">int</span> <span class="n">distance</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">distance_</span><span class="p">;</span> <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">address</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">address_</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">weight_</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>        <span class="c1">// in pounds</span>
    <span class="kt">int</span> <span class="n">distance_</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>    <span class="c1">// in miles</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">address_</span> <span class="o">=</span> <span class="s">&quot;My mom&#39;s house&quot;</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="inheritance">
<span id="index-3"></span><h2>13.1.3. Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<p>In C++, we can extend a class,
adding data members or behavior in a new type.
Consider the following example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">enum</span> <span class="n">Color</span> <span class="p">{</span><span class="n">RED</span><span class="p">,</span> <span class="n">ORANGE</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span>
                               <span class="n">GREEN</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="n">INDIGO</span><span class="p">,</span> <span class="n">VIOLET</span><span class="p">,</span>
                               <span class="n">WHITE</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">};</span>

<span class="k">class</span> <span class="nc">shape</span> <span class="p">{</span>
    <span class="n">Color</span> <span class="n">color_</span> <span class="o">=</span> <span class="n">Color</span><span class="o">::</span><span class="n">BLUE</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">shape</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span>   <span class="nf">draw</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span>   <span class="nf">erase</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span>   <span class="nf">move</span><span class="p">();</span>
    <span class="kt">void</span>   <span class="nf">color</span> <span class="p">(</span><span class="n">Color</span> <span class="n">new_color</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">color_</span> <span class="o">=</span> <span class="n">new_color</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Color</span>  <span class="nf">color</span><span class="p">()</span>  <span class="k">const</span>
    <span class="p">{</span>
      <span class="k">return</span> <span class="n">color_</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The class <code class="docutils literal notranslate"><span class="pre">shape</span></code> defines common behaviors that
can be shared among all classes.
The fundamental operations of translation across the plane
(<code class="docutils literal notranslate"><span class="pre">move()</span></code>), or assigning a color to a shape can have
common definitions.
Code that can only properly be implemented in the class that
properly ‘owns’ the behavior (<code class="docutils literal notranslate"><span class="pre">draw</span></code> and <code class="docutils literal notranslate"><span class="pre">erase</span></code>)
is implemented in the <em>derived</em> classes.</p>
<p>In the base class <code class="docutils literal notranslate"><span class="pre">shape</span></code>,
the <code class="docutils literal notranslate"><span class="pre">virtual</span></code> keyword instructs the compiler that the marked functions
can be <em>overridden</em> in derived classes.
The shape example illustrates different ways base class functions
may be implemented.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">color</span></code> functions are not marked virtual.
These functions are inherited by all derived classes,
but cannot be overridden.
These functions represent a <em>mandatory implementation</em>.
In this design, <strong>every</strong> shape must have a color,
and it is changed using these functions.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">move</span></code> function is marked virtual.
It can be overridden and the definition
of move is implemented in the cpp file associated with this
include file.</p>
<p>The functions <code class="docutils literal notranslate"><span class="pre">draw</span></code> and <code class="docutils literal notranslate"><span class="pre">erase</span></code> are marked virtual.
Note the <code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">0;</span></code> at the end of the declaration.
This marks these functions as <em>pure virtual</em>.
A pure virtual function <strong>cannot</strong> be implemented in the
class that defines it.
Because a class the defines a pure virtual function cannot implement it,
that means any class containing a pure virtual function can never be
instantiated.
Given the shape class defined here, this code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">shape</span> <span class="n">s</span><span class="p">;</span>
</pre></div>
</div>
<p>will not compile.</p>
<p>A class containing at least one pure virtual function can <strong>only</strong>
be used as a base class.</p>
<p>Derived classes declare their bases immediately after the
derived class name.
The general format is:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">derived_name</span><span class="o">:</span> <span class="p">{</span><span class="n">access_modifier</span><span class="p">}</span> <span class="n">base_name</span><span class="p">,</span> <span class="p">{</span><span class="n">access_modifier</span><span class="p">}</span> <span class="n">base2_name</span><span class="p">,</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span>
</pre></div>
</div>
<p>A class may inherit from more than one base class.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">circle</span><span class="o">:</span> <span class="k">public</span> <span class="n">shape</span> <span class="p">{</span>
   <span class="kt">double</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">void</span>   <span class="n">draw</span><span class="p">()</span>  <span class="k">const</span> <span class="k">override</span><span class="p">;</span>
    <span class="kt">void</span>   <span class="nf">erase</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span> <span class="nc">rectangle</span><span class="o">:</span> <span class="k">public</span> <span class="n">shape</span> <span class="p">{</span>
   <span class="kt">double</span> <span class="n">ht</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kt">double</span> <span class="n">wd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">void</span>   <span class="n">draw</span><span class="p">()</span>  <span class="k">const</span> <span class="k">override</span><span class="p">;</span>
    <span class="kt">void</span>   <span class="nf">erase</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span> <span class="nc">triangle</span><span class="o">:</span> <span class="k">public</span> <span class="n">shape</span> <span class="p">{</span>
   <span class="kt">double</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kt">double</span> <span class="n">base</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">void</span>   <span class="n">draw</span><span class="p">()</span>  <span class="k">const</span> <span class="k">override</span><span class="p">;</span>
    <span class="kt">void</span>   <span class="nf">erase</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In the derived class definitions,
we declare <code class="docutils literal notranslate"><span class="pre">public</span></code> members of the shape class
to also have <code class="docutils literal notranslate"><span class="pre">public</span></code> access the derived classes.
Compare:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">circle</span><span class="o">:</span> <span class="k">public</span> <span class="n">shape</span> <span class="p">{}</span>

<span class="k">class</span> <span class="nc">circle</span><span class="o">:</span> <span class="n">shape</span> <span class="p">{}</span>
</pre></div>
</div>
<p>In the second case, the public members of shape
are treated as <code class="docutils literal notranslate"><span class="pre">private</span></code> members of class circle.
This is almost always a bug for new programmers
and a common source of error.</p>
<p>The keyword <code class="docutils literal notranslate"><span class="pre">override</span></code> tells the compiler that this function
intends to override a virtual function in a base class.
Although a C++11 feature and not required,
it is a best practice since it provides the compiler
more information about your intent and can flag functions
with incorrect signatures.</p>
<p>It is common to draw inheritance relationships like this:</p>
<img src="../_images/graphviz-9f78f9f9f3ff2f49b6c76884fb5ea512bc5e076d.png" alt="Shape inheritance" />
<p>This is different from extending classes through <a class="reference internal" href="../glossary.html#term-composition"><span class="xref std std-term">composition</span></a>.
More comparisons between inheritance and composition will be made in
later sections.</p>
</div>
<div class="section" id="polymorphism">
<span id="index-4"></span><h2>13.1.4. Polymorphism<a class="headerlink" href="#polymorphism" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../glossary.html#term-polymorphism"><span class="xref std std-term">Polymorphism</span></a> is often referred to as the third pillar
of object-oriented programming, after encapsulation and inheritance.
Polymorphism is a Greek word that means “many-shaped” and polymorphism
itself comes in two distinct forms:</p>
<ul>
<li><p class="first"><a class="reference internal" href="../glossary.html#term-runtime-polymorphism"><span class="xref std std-term">Runtime polymorphism</span></a></p>
<p>Base classes may define and implement abstract, or virtual methods,
and derived classes can override them, which means they provide their own
definition and implementation.
At runtime, when client code calls the method, the type is resolved and invokes
that override of the virtual method.
Thus in your source code you can call a method on a base class, and cause a derived
class’s version of the method to be executed.</p>
<p>At run time, objects of a derived class may be treated as objects of a base class
in places such as method parameters and collections or arrays.
When this occurs, the object’s declared type is no longer identical to its
runtime type.</p>
<p>Note that a derived class may be treated as any type in its inheritance hierarchy.
Also, it is perfectly valid for an overloaded method to be overridden.</p>
</li>
<li><p class="first"><a class="reference internal" href="../glossary.html#term-compile-time-polymorphism"><span class="xref std std-term">Compile-time polymorphism</span></a></p>
<p>Compile-time polymorphism is simply method overloading.
<strong>Overloaded</strong> methods have the same method name but
different number of arguments or different types of arguments or both.</p>
</li>
</ul>
</div>
<div class="section" id="abstraction">
<h2>13.1.5. Abstraction<a class="headerlink" href="#abstraction" title="Permalink to this headline">¶</a></h2>
<p>One of the key advantages of object oriented languages over <a class="reference internal" href="../glossary.html#term-procedural"><span class="xref std std-term">procedural</span></a>
languages is that objects act as metaphors for the real-world.
In other words, objects <em>model</em> the real world.
In a procedural language, tasks are executed in functions or procedures and the
data that the functions operate on is stored elsewhere.
A better way to manage the complexity of large programs is to
keep the data in a program and the operations allowed on that data
in a cohesive logical unit.
A program describing a car might perform basic tasks:
steer, speed up, slow down,
but also needs to store information about the car:
current speed, direction, cruise control setting, etc.</p>
<p>If you wrote your car driving program in a procedural language, you
would likely require different functions to control each of the car
behaviors.
You might create functions for <code class="docutils literal notranslate"><span class="pre">turnCarOn()</span></code>, <code class="docutils literal notranslate"><span class="pre">turnCarOff()</span></code>,
<code class="docutils literal notranslate"><span class="pre">accelerate()</span></code>, <code class="docutils literal notranslate"><span class="pre">steer()</span></code>, and others.
You would also need variables to store the current state of the car.
Although it’s perfectly valid to construct such a car in a procedural
language, these functions and variables we have created only exist as
a whole entity, a <em>car</em> in the mind of the programmer who created it.
The idea that individual units within a program each have a specific
role or responsibility is called <a class="reference internal" href="../glossary.html#term-cohesion"><span class="xref std std-term">cohesion</span></a> and is difficult to
achieve in procedural programs.</p>
<p>For very large programs, which might contain hundreds or even
thousands of entities, lack of cohesion can introduce errors, make
programs more difficult to understand and maintain, and complicate the
development of very large programs.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="first admonition-title">More to Explore</p>
<ul class="last simple">
<li>TBD</li>
</ul>
</div>
<div class="topic">
<p class="topic-title first">Footnotes</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://en.wikipedia.org/wiki/Object-oriented_programming#Fundamental_features_and_concepts">Wikipedia OO fundamental concepts</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29">SOLID</a> Object oriented design</td></tr>
</tbody>
</table>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 13. Class design' data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="toctree.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 13.2. Unified modelling language' data-toggle="tooltip" >
    <a href="uml.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="uml.html" >Next Section - 13.2. Unified modelling language</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2018 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 3.2.6.
    </p>
  </div>
</footer>



  </body>
</html>