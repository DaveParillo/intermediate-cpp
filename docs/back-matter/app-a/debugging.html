<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Debugging &#8212; Intermediate Modern C++ Overview</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/presenter_mode.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/showEval.css?v=C6382F3" />
    <link rel="stylesheet" type="text/css" href="../../_static/pytutor.css?v=239FC54E" />
    <link rel="stylesheet" type="text/css" href="../../_static/modal-basic.css?v=8A1A42E4" />
    <link rel="stylesheet" type="text/css" href="../../_static/clickable.css?v=58C4E18A" />
    <link rel="stylesheet" type="text/css" href="../../_static/datafile.css?v=C184EB8A" />
    <link rel="stylesheet" type="text/css" href="../../_static/spreadsheet.css?v=B5F018A" />
    <link rel="stylesheet" type="text/css" href="../../_static/jexcel.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/japp.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/parsons.css?v=2F3E13EE" />
    <link rel="stylesheet" type="text/css" href="../../_static/js_lib/prettify.css?v=2A364B6B" />
    <link rel="stylesheet" type="text/css" href="../../_static/fitb.css?v=3BA0E63E" />
    <link rel="stylesheet" type="text/css" href="../../_static/poll.css?v=E220AC33" />
    <link rel="stylesheet" type="text/css" href="../../_static/dragndrop.css?v=1FF7F927" />
    <link rel="stylesheet" type="text/css" href="../../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabbedstuff.css?v=424F1CC9" />
    <link rel="stylesheet" type="text/css" href="../../_static/video.css?v=E5385B3B" />
    <link rel="stylesheet" type="text/css" href="../../_static/reveal.css?v=4A81D381" />
    <link rel="stylesheet" type="text/css" href="../../_static/activecode.css?v=F471F95B" />
    <link rel="stylesheet" type="text/css" href="../../_static/codemirror.css?v=1CE53237" />
    <link rel="stylesheet" type="text/css" href="../../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../../_static/accessibility.css?v=808B982A" />
    <link rel="stylesheet" href="../../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/runestone-custom-sphinx-bootstrap.css?v=4.1.11" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/runestonebase.js?v=4.1.11"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/showEval.js?v=5B2DD7A6"></script>
    <script type="text/javascript" src="../../_static/d3.v2.min.js?v=836E01C"></script>
    <script type="text/javascript" src="../../_static/jquery.ba-bbq.min.js?v=B64CF0A8"></script>
    <script type="text/javascript" src="../../_static/jquery.jsPlumb-1.3.10-all-min.js?v=42F9EBEA"></script>
    <script type="text/javascript" src="../../_static/pytutor.js?v=82B022B9"></script>
    <script type="text/javascript" src="../../_static/codelens.js?v=CABECD49"></script>
    <script type="text/javascript" src="../../_static/shortanswer.js?v=D42E4CE3"></script>
    <script type="text/javascript" src="../../_static/timed_shortanswer.js?v=B3A117D7"></script>
    <script type="text/javascript" src="../../_static/clickable.js?v=DEB56CF8"></script>
    <script type="text/javascript" src="../../_static/timedclickable.js?v=93989C23"></script>
    <script type="text/javascript" src="../../_static/skulpt.min.js?v=BDC8551F"></script>
    <script type="text/javascript" src="../../_static/skulpt-stdlib.js?v=5731007D"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../../_static/datafile.js?v=3ED1A80C"></script>
    <script type="text/javascript" src="../../_static/spreadsheet.js?v=9DA8BEAB"></script>
    <script type="text/javascript" src="../../_static/jexcel.js"></script>
    <script type="text/javascript" src="../../_static/japp.js"></script>
    <script type="text/javascript" src="../../_static/js_lib/prettify.js?v=CA7E8928"></script>
    <script type="text/javascript" src="../../_static/js_lib/hammer.min.js?v=73056367"></script>
    <script type="text/javascript" src="../../_static/parsons.js?v=68B5F56"></script>
    <script type="text/javascript" src="../../_static/timedparsons.js?v=2EEA9E5A"></script>
    <script type="text/javascript" src="../../_static/fitb.js?v=3FF7EFF0"></script>
    <script type="text/javascript" src="../../_static/timedfitb.js?v=2AA17071"></script>
    <script type="text/javascript" src="../../_static/poll.js?v=13CE919A"></script>
    <script type="text/javascript" src="../../_static/dragndrop.js?v=644C2C6C"></script>
    <script type="text/javascript" src="../../_static/timeddnd.js?v=378F237E"></script>
    <script type="text/javascript" src="../../_static/matrixeq.js?v=D64CFA5A"></script>
    <script type="text/javascript" src="../../_static/animationbase.js?v=A043C3A7"></script>
    <script type="text/javascript" src="../../_static/mchoice.js?v=7B442CDC"></script>
    <script type="text/javascript" src="../../_static/timedmc.js?v=B010A457"></script>
    <script type="text/javascript" src="../../_static/timed.js?v=CEC6219E"></script>
    <script type="text/javascript" src="../../_static/lp.js?v=F137FF7A"></script>
    <script type="text/javascript" src="../../_static/gas.js?v=F0D0F02E"></script>
    <script type="text/javascript" src="../../_static/tabbedstuff.js?v=5BE6106"></script>
    <script type="text/javascript" src="../../_static/runestonevideo.js?v=53E888DE"></script>
    <script type="text/javascript" src="../../_static/reveal.js?v=9C3AAF60"></script>
    <script type="text/javascript" src="../../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script type="text/javascript" src="../../_static/bookfuncs.js?v=963AEB3A"></script>
    <script type="text/javascript" src="../../_static/codemirror.js?v=94F552C9"></script>
    <script type="text/javascript" src="../../_static/xml.js?v=236EDFF7"></script>
    <script type="text/javascript" src="../../_static/css.js?v=623153CE"></script>
    <script type="text/javascript" src="../../_static/python.js?v=14A28F1F"></script>
    <script type="text/javascript" src="../../_static/htmlmixed.js?v=33B91944"></script>
    <script type="text/javascript" src="../../_static/javascript.js?v=6F38CA04"></script>
    <script type="text/javascript" src="../../_static/sql.js?v=1B4587EC"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/CLDRPluralRuleParser.js?v=599B42B0"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.js?v=88A1430F"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.messagestore.js?v=AE15A4A1"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.fallbacks.js?v=8ABDFE7F"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.language.js?v=747279FF"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.parser.js?v=7B020E13"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.js?v=660E85C3"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.bidi.js?v=54B21948"></script>
    <script type="text/javascript" src="../../_static/activecode-i18n.en.js?v=70E93DF2"></script>
    <script type="text/javascript" src="../../_static/activecode.js?v=FE13F48"></script>
    <script type="text/javascript" src="../../_static/clike.js?v=2DCE0756"></script>
    <script type="text/javascript" src="../../_static/timed_activecode.js?v=C6AD5C24"></script>
    <script type="text/javascript" src="../../_static/sql-wasm.js?v=44FE0709"></script>
    <script type="text/javascript" src="../../_static/webglinteractive.js?v=2B768384"></script>
    <script type="text/javascript" src="../../_static/FileSaver.min.js?v=8408C997"></script>
    <script type="text/javascript" src="../../_static/Blob.js?v=AEC2447"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../../_static/user-highlights.js?v=4.1.11"></script>
    <script type="text/javascript" src="../../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../../_static/presenter_mode.js?v=4.1.11"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Frequently asked questions (FAQ)" href="../faq.html" />
    <link rel="prev" title="Version control" href="version-control.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/intermediate-cpp/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/intermediate-cpp/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/intermediate-cpp';
    eBookConfig.course = 'intermediate-cpp';
    eBookConfig.basecourse = 'intermediate-cpp';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '4.1.11';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>




  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../../_static/img/logo_small.png") no-repeat 0px 0px;'>&nbsp;<span aria-label="logo" class="visuallyhidden">Runestone Logo</span> </a>
        
        <a class="navbar-brand" href="../../index.html" aria-label="index-page">
          
          intermediate-cpp
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - Version control" data-toggle="tooltip">
    <a href="version-control.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Frequently asked questions (FAQ)' data-toggle="tooltip" >              
    <a href="../faq.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="debugging">
<span id="index-0"></span><h1>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h1>
<p>Different kinds of errors can occur in a program, and it is useful to
distinguish among them in order to track them down more quickly:</p>
<ol class="arabic simple">
<li><p>Syntax errors are produced when compilers or interpreters translate
source code into machine readable form.
A syntax error is the failure to follow the basic rules of the language.
For example, mis-matched parentheses or braces, or misplaced keyword,
or a variable used where a keyword is expected.</p></li>
<li><p>Link errors occur when each compilation unit compiles correctly,
but the next stage, the linker is unable to combine all the object code
into a single valid executable file.</p></li>
<li><p>Runtime errors are produced by the executable system if something goes wrong
while the program is running. Runtime error messages may include
information about where the error occurred and what functions were
executing. Detailed runtime error output is typically only available in
compiled languages such as C++ with debugging symbols explicitly compiled
into the final program.</p></li>
<li><p>Semantic errors are problems with a program that compiles and runs but
doesn’t do the right thing. Example: An expression may not be evaluated in
the order you expect, yielding an unexpected result.</p></li>
</ol>
<p>The first step in debugging is to figure out which kind of error you are
dealing with. Although the following sections are organized by error type, some
techniques are applicable in more than one situation.</p>
<div class="section" id="syntax-errors">
<span id="index-1"></span><h2>Syntax errors<a class="headerlink" href="#syntax-errors" title="Permalink to this headline">¶</a></h2>
<p>Syntax errors are usually easy to fix once you figure out what they are.
Unfortunately, the error messages are often not helpful.
The errors reported vary from compiler to compiler and can be long and cryptic.
This is especially true of errors involving templates.</p>
<p>Often syntax errors in one part of a program can cascade, generating
more downstream errors in other parts of the program.
This is common for simple errors such as typographical mistakes.
Therefore, it is a good idea to attack errors from the top of the
error list first.
Commonly, fixing a few minor errors reported at the top of the error list
eliminates dozens of lines of reported errors.
Bottom line: don’t let the size of an error output intimidate you,
the compiler is just trying to be thorough.</p>
<p>On the other hand, the messages from most syntax errors do tell you
almost exactly where in the program the problem occurred.
Actually, it tells you where the compiler noticed a problem, which is not
necessarily where the error is. Sometimes the error is prior to the location of
the error message, often on the preceding line.</p>
<p>If you are copying code from a book, start by comparing your code to the book’s
code very carefully. Check every character. At the same time, remember that the
book might be wrong, so if you see something that looks like a syntax error, it
might be.</p>
<p>Here are some ways to avoid the most common syntax errors:</p>
<ol class="arabic simple">
<li><p>Make sure you are not using a keyword for a variable name.</p></li>
<li><p>Make sure you are compiling with the <code class="docutils literal notranslate"><span class="pre">-std=c++11</span></code> argument.</p></li>
<li><p>Check that indentation is consistent. You may indent with either spaces or
tabs but it’s best not to mix them. Each level should be nested the same
amount. Neatness catches more errors than you might expect.</p></li>
<li><p>Make sure that any strings in the code have matching quotation marks.</p></li>
<li><p>If a function declares a return value, ensure your function returns a value.</p></li>
<li><p>An unclosed bracket – (, {, or [ – makes the compiler continue with the next
line as part of the current statement. Generally, an error occurs almost
immediately in the next line.</p></li>
<li><p>Check for the classic <code class="docutils literal notranslate"><span class="pre">=</span></code> instead of <code class="docutils literal notranslate"><span class="pre">==</span></code> inside a conditional.</p></li>
</ol>
<p>A simple dropped semi-colon may generate
slightly different results using different compilers.
For example, given the following:</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">foo</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler, reports the error on line 8.
It notices an end brace reached <code class="docutils literal notranslate"><span class="pre">}</span></code> but a semi-colon was expected:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>g++ -std=c++11 -Wall -Wextra -pedantic    foo.cpp   -o foo
g++: warning: couldn’t understand kern.osversion ‘14.5.0
foo.cpp: In function ‘int main()’:
foo.cpp:8:1: error: expected ‘;’ before ‘}’ token
 }
 ^
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">clang</span></code> compiler knows where the semi-colon belongs and in this case,
provides a slightly more specific error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The ``clang`` compiler, reports the error on line 7.
clang++ -std=c++11 -Wall -Wextra -pedantic    foo.cpp   -o foo
foo.cpp:7:8: error: expected &#39;;&#39; after expression
  foo()
       ^
       ;
1 error generated.
</pre></div>
</div>
<div class="section" id="i-can-t-get-my-program-to-compile-no-matter-what-i-do">
<h3>I can’t get my program to compile no matter what I do.<a class="headerlink" href="#i-can-t-get-my-program-to-compile-no-matter-what-i-do" title="Permalink to this headline">¶</a></h3>
<p>If the compiler says there is an error and you don’t see it, that might be
because you and the compiler are not looking at the same code. Check your
programming environment to make sure that the program you are editing is the
one you are actually compiling. If you are not sure, try putting an obvious and
deliberate syntax error at the beginning of the program. Now compile it
again. If the compiler doesn’t find the new error, there is probably something
wrong with the way your environment is set up.</p>
<p>If this happens, one approach is to start again with a new program like Hello,
World!, and make sure you can get a known program to run.  Then gradually add
the pieces of the new program to the working one.</p>
</div>
</div>
<div class="section" id="link-errors">
<span id="index-2"></span><h2>Link errors<a class="headerlink" href="#link-errors" title="Permalink to this headline">¶</a></h2>
<p>If you encounter a link error, then the basic syntax of each compilation unit is correct.
The most common mistake new programmers make is to start changing code in
response to a link error.
This will only make matters worse, as the program syntax was OK to begin with.
The simplest kind of link error is when the linker can’t find a <code class="docutils literal notranslate"><span class="pre">main</span></code> function
to start execution:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>g++: warning: couldn’t understand kern.osversion ‘14.5.0
Undefined symbols for architecture x86_64:
  &quot;_main&quot;, referenced from:
      __start in crt1.o
ld: symbol(s) not found for architecture x86_64
collect2: error: ld returned 1 exit status
</pre></div>
</div>
<p>Although cryptic looking, there are several clues that we do not have a syntax problem:</p>
<ol class="arabic simple">
<li><p>The first line of output says “Undefined symbols …”.
This is a clear indication that the linker could not find something it expected.</p></li>
<li><p>The next 4 lines expand on this to tell us that the linker program (<code class="docutils literal notranslate"><span class="pre">ld</span></code>)
was unable to find the symbol <code class="docutils literal notranslate"><span class="pre">_main</span></code>, which is the <em>mangled name</em> this particular compiler
gives to the function <code class="docutils literal notranslate"><span class="pre">main()</span></code>.
Compilers are free to mangle function names as they see fit to generate an executable
in which every function signature is unique.</p></li>
</ol>
<p>Since link errors or other problems related to setting up your environment are not covered
in detail in this course, this is a perfectly fine time to ask your instructor for help.
Since the problem is either in your environment, your <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>, or both.</p>
</div>
<div class="section" id="runtime-errors">
<span id="index-3"></span><h2>Runtime errors<a class="headerlink" href="#runtime-errors" title="Permalink to this headline">¶</a></h2>
<p>Once your program is syntactically correct, you can create an executable and
start running it. What could possibly go wrong?</p>
<div class="section" id="my-program-does-absolutely-nothing">
<h3>My program does absolutely nothing.<a class="headerlink" href="#my-program-does-absolutely-nothing" title="Permalink to this headline">¶</a></h3>
<p>This problem is most common when your file consists of functions and classes
but does not actually invoke anything to start execution. This may be
intentional if you only plan to import this module to supply classes and
functions.</p>
<p>If it is not intentional, make sure that your program has a <code class="docutils literal notranslate"><span class="pre">main()</span></code> function.</p>
</div>
<div class="section" id="my-program-hangs">
<h3>My program hangs.<a class="headerlink" href="#my-program-hangs" title="Permalink to this headline">¶</a></h3>
<p>If a program stops and seems to be doing nothing, we say it is hanging. Often
that means that it is caught in an infinite loop or an infinite recursion.</p>
<ol class="arabic simple">
<li><p>If there is a particular loop that you suspect is the problem, add a
<code class="docutils literal notranslate"><span class="pre">cout</span></code> or <code class="docutils literal notranslate"><span class="pre">puts</span></code> statement immediately before the loop that says entering the loop
and another immediately after that says exiting the loop.</p></li>
<li><p>Run the program. If you get the first message and not the second, you’ve got
an infinite loop.
Go to the Infinite Loop section below.</p></li>
<li><p>Most of the time, an infinite recursion will cause the program to run for a
while and then produce a RuntimeError: StackOverflow error.
If that happens, go to the Infinite Recursion section below.</p></li>
<li><p>If you are not getting this error but you suspect there is a problem with a
recursive method or function, you can still use the techniques in the
Infinite Recursion section.</p></li>
<li><p>If neither of those steps works, start testing other loops and other
recursive functions and methods.</p></li>
<li><p>If that doesn’t work, then it is possible that you don’t understand the flow
of execution in your program. Go to the Flow of Execution section below.</p></li>
</ol>
<p>One last possibility is that your program is simply waiting for input and
there is no visual indication that input is expected.
If you don’t suspect an infinite loop,
try typing something and pressing <em>Enter</em>.
If your program does <strong>anything</strong>, including crashing,
then you don’t have an infinite loop.
You have a logic error.
Go to the Semantic error section below.</p>
</div>
<div class="section" id="infinite-loops">
<span id="index-4"></span><h3>Infinite loops<a class="headerlink" href="#infinite-loops" title="Permalink to this headline">¶</a></h3>
<p>If you think you have an infinite loop and you think you know what loop is
causing the problem, add a <code class="docutils literal notranslate"><span class="pre">print</span></code> statement at the end of the loop that
prints the values of the variables in the condition and the value of the
condition.</p>
<p>For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something to x</span>
  <span class="c1">// do something to y</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;x: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;y: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;condition: &quot;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now when you run the program, you will see three lines of output for each time
through the loop. The last time through the loop, the condition should be
<code class="docutils literal notranslate"><span class="pre">0</span></code>. If the loop keeps going, you will be able to see the values of <code class="docutils literal notranslate"><span class="pre">x</span></code>
and <code class="docutils literal notranslate"><span class="pre">y</span></code>, and you might figure out why they are not being updated correctly.</p>
<p>In a development environment like <em>CodeBlocks</em>, <em>Visual Studio</em>, or using
command line debuggers such as <em>gdb</em> one can also set a breakpoint
at the start of the loop, and single-step through the loop.  While you do
this, inspect the values of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> by hovering your cursor over
them.</p>
<p>Of course, all programming and debugging require that you have a good mental
model of what the algorithm ought to be doing: if you don’t understand what
ought to happen to <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, printing or inspecting its value is
of little use. Probably the best place to debug the code is away from
your computer, working on your understanding of what should be happening.</p>
</div>
<div class="section" id="infinite-recursion">
<h3>Infinite recursion<a class="headerlink" href="#infinite-recursion" title="Permalink to this headline">¶</a></h3>
<p>Most of the time, an infinite recursion will cause the program to run for a
while and then produce a <code class="docutils literal notranslate"><span class="pre">Stack</span> <span class="pre">overflow</span></code> error.</p>
<p>If you suspect that a function or method is causing an infinite recursion,
start by checking to make sure that there is a base case.  In other words,
there should be some condition that will cause the function or method to return
without making a recursive invocation. If not, then you need to rethink the
algorithm and identify a base case.</p>
<p>If there is a base case but the program doesn’t seem to be reaching it, add a
<code class="docutils literal notranslate"><span class="pre">print</span></code> statement at the beginning of the function or method that prints the
parameters. Now when you run the program, you will see a few lines of output
every time the function or method is invoked, and you will see the parameters.
If the parameters are not moving toward the base case, you will get some ideas
about why not.</p>
<p>Once again, if you have an environment that supports easy single-stepping,
breakpoints, and inspection, learn to use them well. It is our opinion that
walking through code step-by-step builds the best and most accurate mental
model of how computation happens. Use it if you have it!</p>
</div>
</div>
<div class="section" id="semantic-errors">
<span id="index-5"></span><h2>Semantic errors<a class="headerlink" href="#semantic-errors" title="Permalink to this headline">¶</a></h2>
<p>In some ways, semantic errors are the hardest to debug, because the
compiler and the runtime system provide no information about what is
wrong.
If there is a semantic error in your program,
it will run successfully in the sense that the computer will
not generate any error messages.
However, your program will not do the right thing.
It will do something else.
Specifically, it will do what you told it to do.
Only you know what the program is supposed to do, and only you
know that it isn’t doing it.</p>
<p>The problem is that the program you wrote is not the program you wanted to write.
The meaning of the program (its semantics) is wrong.
Identifying semantic errors can be tricky because it requires
you to work backward by looking at the output of the program and
trying to figure out what it is doing.</p>
<p>The first step is to make a connection between the program text and
the behavior you are seeing. You need a hypothesis about what the
program is actually doing. One of the things that makes that hard is
that computers run so fast.</p>
<p>You will often wish that you could slow the program down to human
speed, and with some debuggers you can. But the time it takes to
insert a few well-placed <code class="docutils literal notranslate"><span class="pre">print</span></code> statements is often short compared to
setting up the debugger, inserting and removing breakpoints, and
walking the program to where the error is occurring.</p>
</div>
<div class="section" id="general-debugging-tips">
<h2>General debugging tips<a class="headerlink" href="#general-debugging-tips" title="Permalink to this headline">¶</a></h2>
<p>Before you can effectively use debugging tools,
you need to know what your program is <em>supposed</em> to do.
The basic method of all debugging:</p>
<ol class="arabic simple">
<li><p>Know what your program is supposed to do.</p></li>
<li><p>Detect when it doesn’t.</p></li>
<li><p>Fix it.</p></li>
</ol>
<p>A tempting mistake is to skip step 1,
and just try randomly tweaking things until the program works.
Better is to see what the program is doing internally,
so you can see exactly where and when it is going wrong.
A second temptation is to attempt to intuit where things are going wrong
by staring at the code or the program’s output.
Avoid this temptation as well:
let the computer tell you what it is really doing inside your program instead of guessing.</p>
<div class="section" id="my-program-doesn-t-work">
<h3>My program doesn’t work<a class="headerlink" href="#my-program-doesn-t-work" title="Permalink to this headline">¶</a></h3>
<p>You should ask yourself these questions:</p>
<ol class="arabic simple">
<li><p>Is there something the program was supposed to do but which doesn’t
seem to be happening? Find the section of the code that performs that
function and make sure it is executing when you think it should.</p></li>
<li><p>Is something happening that shouldn’t? Find code in your program
that performs that function and see if it is executing when it
shouldn’t.</p></li>
<li><p>Is a section of code producing an effect that is not what you
expected? Make sure that you understand the code in question,
especially if it involves invocations to functions or methods
in other compilation units.
<a class="reference external" href="https://www.cppreference.com/">Read the documentation</a>
for the functions you invoke.
Try them out by writing simple test cases and checking the results.</p></li>
</ol>
<p>In order to program, you need to have a mental model of how programs
work. If you write a program that doesn’t do what you expect, very
often the problem is not in the program; it’s in your mental model.</p>
<p>The best way to correct your mental model is to break the program into
its components (usually the functions) and test each
component independently.
Ask yourself if each function is truly doing one thing in your program.
Small function that do one thing well makes solving semantic errors
much easier.
Once you find the discrepancy between your
model and reality, you can solve the problem.</p>
<p>Of course, you should be building and testing components as you
develop the program. If you encounter a problem, there should be only
a small amount of new code that is not known to be correct.</p>
</div>
<div class="section" id="i-ve-got-a-big-hairy-expression-and-it-doesn-t-do-what-i-expect">
<h3>I’ve got a big hairy expression and it doesn’t do what I expect<a class="headerlink" href="#i-ve-got-a-big-hairy-expression-and-it-doesn-t-do-what-i-expect" title="Permalink to this headline">¶</a></h3>
<p>Having a “big hairy expression” is your first problem.
Ask your self if this is the simplest solution for the problem
you are trying to solve.</p>
<p>Writing complex expressions is fine as long as they are <strong>clear</strong>,
but they can be hard to debug.
Consider breaking a complex
expression into a series of assignments to temporary variables.</p>
<p>For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="n">hands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">add_card</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">hands</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="n">neighbor</span><span class="p">(</span><span class="n">i</span><span class="p">)].</span><span class="n">top</span><span class="p">())</span>
</pre></div>
</div>
<p>This can be rewritten as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">neighbor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="n">neighbor</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">picked</span> <span class="o">=</span> <span class="n">hands</span><span class="p">[</span><span class="n">neighbor</span><span class="p">].</span><span class="n">top</span><span class="p">();</span>
<span class="n">hands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">add_card</span> <span class="p">(</span><span class="n">picked</span><span class="p">);</span>
</pre></div>
</div>
<p>The explicit version is easier to read because the variable names provide
additional documentation, and it is easier to debug because you can check the
types of the intermediate variables and display or inspect their values.</p>
<p>Another problem that can occur with big expressions is that the order of
evaluation may not be what you expect. For example, if you are translating the
expression <code class="docutils literal notranslate"><span class="pre">x/2pi</span></code> into code, you might write:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">M_PI</span><span class="p">;</span>
</pre></div>
</div>
<p>That is not correct because multiplication and division have the same
precedence and are evaluated from left to right. So this expression computes
<code class="docutils literal notranslate"><span class="pre">(x/2)pi</span></code>.</p>
<p>A good way to debug expressions is to add parentheses to make the order of
evaluation explicit:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">M_PI</span><span class="p">);</span>
</pre></div>
</div>
<p>Whenever you are not sure of the order of evaluation, use parentheses.  Not
only will the program be correct (in the sense of doing what you intended), it
will also be more readable for other people who haven’t memorized the rules of
precedence.</p>
</div>
<div class="section" id="i-ve-got-a-function-that-doesn-t-return-what-i-expect">
<h3>I’ve got a function that doesn’t return what I expect<a class="headerlink" href="#i-ve-got-a-function-that-doesn-t-return-what-i-expect" title="Permalink to this headline">¶</a></h3>
<p>If you have a <code class="docutils literal notranslate"><span class="pre">return</span></code> statement with a complex expression, you don’t have a
chance to print the <code class="docutils literal notranslate"><span class="pre">return</span></code> value before returning. Again, you can use a
temporary variable. For example, instead of:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="n">hands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">remove_matches</span><span class="p">();</span>
</pre></div>
</div>
<p>you could write:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">count</span> <span class="o">=</span> <span class="n">hands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">remove_matches</span><span class="p">();</span>
<span class="k">return</span> <span class="n">count</span><span class="p">;</span>
</pre></div>
</div>
<p>Now you have the opportunity to display or inspect the value of <code class="docutils literal notranslate"><span class="pre">count</span></code> before
returning.</p>
</div>
<div class="section" id="assertions">
<span id="index-6"></span><h3>Assertions<a class="headerlink" href="#assertions" title="Permalink to this headline">¶</a></h3>
<p>The include <code class="docutils literal notranslate"><span class="pre">&lt;assert.h&gt;</span></code> defines a very handy <strong>assert</strong> macro.
The assert macro tests if a condition is true and halts your program
with an error if it is false.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;assert.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">assert</span> <span class="p">(</span><span class="mi">5</span> <span class="o">==</span> <span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>When compiled an run, the output is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Assertion failed: (5 == 2+2), function main, file foo.cpp, line 4.
</pre></div>
</div>
<p>Line numbers and everything,
even if you compile with the optimizer turned on.
Much nicer than a mere segmentation fault, and if you run it under the debugger,
the debugger will stop exactly on the line where the assert failed so you can poke around and see why.</p>
</div>
</div>
<div class="section" id="debugging-tools">
<span id="index-7"></span><h2>Debugging tools<a class="headerlink" href="#debugging-tools" title="Permalink to this headline">¶</a></h2>
<p>There are many tools to help programmers find and fix errors.
The simplest thing you can do is add print statements or assertions
to your code.
This is the slowest way to debug your code as it requires a recompile
each time you want to look at something different.</p>
<p>It is better, generally to use a more sophisticated tool.
Every compiler and language provides some sort of debugging tool to assist developers
in writing software.</p>
<p>Nearly every <a class="reference internal" href="../../glossary.html#term-integrated-development-environment"><span class="xref std std-term">IDE</span></a> comes with a graphical debugger.
Most of them are very good.
Linux provides a variety of debugging tools.
The program <code class="docutils literal notranslate"><span class="pre">ddd</span></code> is a graphical debugger for linux.
The program <code class="docutils literal notranslate"><span class="pre">gdb</span></code> is a text-based debugger for linux.</p>
<div class="section" id="the-gnu-debugger-gdb">
<h3>The GNU debugger (gdb)<a class="headerlink" href="#the-gnu-debugger-gdb" title="Permalink to this headline">¶</a></h3>
<p>The standard debugger on GNU/Linux is called <code class="docutils literal notranslate"><span class="pre">gdb</span></code>. This lets you run your program
under remote control, so that you can stop it and see what is going on inside.</p>
<p>Given the small, buggy program:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">-=</span> <span class="mi">1000</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;sum = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that we are going to add the flag -g3 to tell the compiler to include debugging information.
Debug level 3 is the most detailed debug level.
Debug levels 2 and 3 allow gdb to translate machine addresses back into
identifiers and line numbers in the original program for us.</p>
<p>Let’s compile and run it and see what happens:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ g++ bogus.cpp -std=c++11 -Wall -Wextra -pedantic -g3 -o bogus
$ ./bogus
sum = -34394132
$
</pre></div>
</div>
<p>That doesn’t look like the sum of 1 to 1000.
So what went wrong?
If we were clever, we might notice that the test in the for loop is using the
shortcut -= operator instead of the &lt;= operator that we probably want.
But let’s suppose we’re not so clever right now—it’s four in the morning,
we’ve been working on bogus.cpp for twenty-nine straight hours,
and there’s a -= up there because in our befuddled condition we know in our bones
that it’s the right operator to use.
We need somebody else to tell us that we are deluding ourselves,
but nobody is around this time of night.
So we’ll have to see what we can get the computer to tell us.</p>
<p>The first thing to do is fire up <code class="docutils literal notranslate"><span class="pre">gdb</span></code>, the debugger.
This runs our program in stop-motion,
letting us step through it a piece at a time and watch what it is actually doing.
In the example below gdb is run from the command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ gdb bogus
GNU gdb (GDB; openSUSE 13.1) 7.6.50.20130731-cvs
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;i586-suse-linux&quot;.
Type &quot;show configuration&quot; for configuration details.
For bug reporting instructions, please see:
&lt;http://bugs.opensuse.org/&gt;.
Find the GDB manual and other documentation resources online at:
&lt;http://www.gnu.org/software/gdb/documentation/&gt;.
For help, type &quot;help&quot;.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;.
..
Reading symbols from /var2/home/dparillo/bogus...done.
(gdb) run
Starting program: /var2/home/dparillo/bogus
sum = -34394132
[Inferior 1 (process 32083) exited normally]
</pre></div>
</div>
<p>So far we haven’t learned anything.
To see our program in action, we need to slow it down a bit.
We’ll stop it as soon as it enters main,
and step through it one line at a time while having it print out the values of the variables.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> main
Breakpoint <span class="m">1</span> at 0x8048719: file bogus.cpp, line <span class="m">4</span>.
<span class="o">(</span>gdb<span class="o">)</span> run
Starting program: /var2/home/dparillo/bogus

Breakpoint <span class="m">1</span>, main <span class="o">()</span> at bogus.cpp:4
<span class="m">4</span>     int <span class="nv">sum</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>

<span class="o">(</span>gdb<span class="o">)</span> display sum
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> -1209683968
<span class="o">(</span>gdb<span class="o">)</span> next
<span class="m">6</span>     <span class="k">for</span> <span class="o">(</span>int <span class="nv">i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> i -<span class="o">=</span> <span class="m">1000</span><span class="p">;</span> ++i<span class="o">)</span> <span class="o">{</span>
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> <span class="m">0</span>
<span class="o">(</span>gdb<span class="o">)</span> next
<span class="m">7</span>       <span class="nv">sum</span> <span class="o">+=</span> i<span class="p">;</span>
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> <span class="m">0</span>
<span class="o">(</span>gdb<span class="o">)</span> display i
<span class="m">2</span>: <span class="nv">i</span> <span class="o">=</span> -1000
<span class="o">(</span>gdb<span class="o">)</span> next
<span class="m">6</span>     <span class="k">for</span> <span class="o">(</span>int <span class="nv">i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> i -<span class="o">=</span> <span class="m">1000</span><span class="p">;</span> ++i<span class="o">)</span> <span class="o">{</span>
<span class="m">2</span>: <span class="nv">i</span> <span class="o">=</span> -1000
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> -1000
<span class="o">(</span>gdb<span class="o">)</span> n                      <span class="c1"># getting lazy and used &#39;n&#39; instead of &#39;next&#39;</span>
<span class="m">7</span>       <span class="nv">sum</span> <span class="o">+=</span> i<span class="p">;</span>
<span class="m">2</span>: <span class="nv">i</span> <span class="o">=</span> -1999
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> -1000
<span class="o">(</span>gdb<span class="o">)</span> n
<span class="m">6</span>     <span class="k">for</span> <span class="o">(</span>int <span class="nv">i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> i -<span class="o">=</span> <span class="m">1000</span><span class="p">;</span> ++i<span class="o">)</span> <span class="o">{</span>
<span class="m">2</span>: <span class="nv">i</span> <span class="o">=</span> -1999
<span class="m">1</span>: <span class="nv">sum</span> <span class="o">=</span> -2999
<span class="o">(</span>gdb<span class="o">)</span> quit
A debugging session is active.

  Inferior <span class="m">1</span> <span class="o">[</span>process <span class="m">32187</span><span class="o">]</span> will be killed.

Quit anyway? <span class="o">(</span>y or n<span class="o">)</span> y
</pre></div>
</div>
<p>Here we are using
<strong>break main</strong> to tell the program to stop as soon as it enters main,
<strong>display</strong> to tell it to show us the value of the variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">sum</span></code> whenever it pauses,
and <strong>n</strong> (or <strong>next</strong>) to execute the program one line at a time.</p>
<p>When stepping through a program, <code class="docutils literal notranslate"><span class="pre">gdb</span></code> displays the line it will execute next
as well as any variables you’ve told it to display.
This means that any changes you see in the variables are the result of the previous displayed line.
Bearing this in mind, we see that <code class="docutils literal notranslate"><span class="pre">i</span></code> drops from 0 to -1000 the very first time
we hit the top of the for loop and drops to -1999 the next time.
So something bad is happening in the top of that for loop,
and we might begin to suspect that <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">-=</span> <span class="pre">1000</span></code> is not doing what we intended.</p>
<div class="section" id="useful-gdb-commands">
<span id="index-8"></span><h4>Useful gdb commands<a class="headerlink" href="#useful-gdb-commands" title="Permalink to this headline">¶</a></h4>
<dl>
<dt>help</dt><dd><p>Get a description of gdb commands.</p>
</dd>
<dt>run</dt><dd><p>Runs your program.
You can give it arguments that get passed in to your program just as if
you had typed them to the shell.
Also used to restart your program from the beginning if it is already running.</p>
</dd>
<dt>quit</dt><dd><p>Leave gdb, killing your program if necessary.</p>
</dd>
<dt>break</dt><dd><p>Set a breakpoint, which is a place where gdb will automatically stop your program.
Some examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">function_name</span></code> stops before executing the first line in <code class="docutils literal notranslate"><span class="pre">function_name</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">117</span></code> stops before executing line number 117.</p></li>
</ul>
</dd>
<dt>list</dt><dd><p>Show part of your source file with line numbers (handy for figuring out where to put breakpoints).
Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">function_name</span></code> lists all lines of <code class="docutils literal notranslate"><span class="pre">function_name</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">117-123</span></code> lists lines 117 through 123.</p></li>
</ul>
</dd>
<dt>next</dt><dd><p>Execute the next line of the program, including completing any function calls in that line.
This command executes, but does not <em>step into</em> functions.</p>
</dd>
<dt>step</dt><dd><p>Execute the next step of the program,
which is either the next line if it contains no function calls,
or the entry into the called function.</p>
</dd>
<dt>finish</dt><dd><p>Continue until you get out of the current function (or hit a breakpoint).
Useful for getting out of something you stepped into that you didn’t want to step into.</p>
</dd>
<dt>cont</dt><dd><p>(Or continue).
Continue until</p>
<ol class="loweralpha simple">
<li><p>the end of the program,</p></li>
<li><p>a fatal error like a Segmentation Fault or Bus Error, or</p></li>
<li><p>a breakpoint.</p></li>
</ol>
<p>If you give it a numeric argument (e.g., <code class="docutils literal notranslate"><span class="pre">cont</span> <span class="pre">1000</span></code>) it will skip
over that many breakpoints before stopping.</p>
</dd>
<dt>print</dt><dd><p>Print the current value of some expression once, e.g. <code class="docutils literal notranslate"><span class="pre">print</span> <span class="pre">i</span></code>.</p>
</dd>
<dt>display</dt><dd><p>Like <code class="docutils literal notranslate"><span class="pre">print</span></code>, but runs automatically every time the program stops.
Useful for watching values that change often.</p>
</dd>
</dl>

    <div data-component="reveal" id="reveal-skill-check-errors"   data-showtitle="Show Skill Check" data-hidetitle="Hide Skill Check" >
    
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="question1_5_1">
            <p>Q-1: Debugging is:</p>

            <li data-component="answer" data-correct id="question1_5_1_opt_a">tracking down programming errors and correcting them.</li><li data-component="feedback">Programming errors are called bugs and the process of finding and removing them from a program is called debugging.</li>
            
            <li data-component="answer"  id="question1_5_1_opt_b">removing all the bugs from your house.</li><li data-component="feedback">Maybe, but that is not what we are talking about in this context.</li>
            
            <li data-component="answer"  id="question1_5_1_opt_c">finding all the bugs in the program.</li><li data-component="feedback">This is partially correct.  But, debugging is more than just finding the bugs.  What do you need to do once you find them?</li>
            
            <li data-component="answer"  id="question1_5_1_opt_d">fixing the bugs in the program.</li><li data-component="feedback">This is partially correct.  But, debugging is more than just fixing the bugs. What do you need to do before you can fix them?</li>
            

            </ul>
            </div>
            
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="question1_8_1">
            <p>Q-2: Which of the following is a semantic error?</p>

            <li data-component="answer"  id="question1_8_1_opt_a">Attempting to divide by 0.</li><li data-component="feedback">A semantic error is an error in logic. In this case the program does not produce the correct output because the problem is not solved correctly. This would be considered a run-time error.</li>
            
            <li data-component="answer"  id="question1_8_1_opt_b">Forgetting a semi-colon at the end of a statement where one is required.</li><li data-component="feedback">A semantic error is an error in logic. In this case the program does not produce the correct output because the code can not be processed by the compiler or interpreter. This would be considered a syntax error.</li>
            
            <li data-component="answer" data-correct id="question1_8_1_opt_c">Forgetting to divide by 100 when printing a percentage amount.</li><li data-component="feedback">This will produce the wrong answer because the programmer implemented the solution incorrectly.  This is a semantic error.</li>
            

            </ul>
            </div>
            
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="question1_6_1">
            <p>Q-3: Which of the following is a syntax error?</p>

            <li data-component="answer"  id="question1_6_1_opt_a">Attempting to divide by 0.</li><li data-component="feedback">A syntax error is an error in the structure of the python code that can be detected before the program is executed.   The compiler cannot usually tell if you are trying to divide by 0 until it is executing your program (e.g., you might be asking the user for a value and then dividing by that value - you cannot know what value the user will enter before you run the program).</li>
            
            <li data-component="answer" data-correct id="question1_6_1_opt_b">Forgetting a colon at the end of a statement where one is required.</li><li data-component="feedback">This is a problem with the formal structure of the program.  The compiler knows where colons are required and can detect when one is missing simply by looking at the code without running it.</li>
            
            <li data-component="answer"  id="question1_6_1_opt_c">Forgetting to divide by 100 when printing a percentage amount.</li><li data-component="feedback">This will produce the wrong answer, but wthe compiler ill not consider it an error at all.  The programmer is the one who understands that the answer produced is wrong.</li>
            

            </ul>
            </div>
            
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="question1_7_1">
            <p>Q-4: Which of the following is a run-time error?</p>

            <li data-component="answer" data-correct id="question1_7_1_opt_a">Attempting to divide by 0.</li><li data-component="feedback">The compiler cannot reliably tell if you are trying to divide by 0 until it is executing your program (e.g., you might be asking the user for a value and then dividing by that value - you cannot know what value the user will enter before you run the program).</li>
            
            <li data-component="answer"  id="question1_7_1_opt_b">Forgetting a colon at the end of a statement where one is required.</li><li data-component="feedback">This is a problem with the formal structure of the program.  The compiler knows where colons are required and can detect when one is missing simply by looking at the code without running it.</li>
            
            <li data-component="answer"  id="question1_7_1_opt_c">Forgetting to divide by 100 when printing a percentage amount.</li><li data-component="feedback">This will produce the wrong answer, but the compiler will not consider it an error at all.  The programmer is the one who understands that the answer produced is wrong.</li>
            

            </ul>
            </div>
            
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="question1_6_2">
            <p>Q-5: Who or what typically finds syntax errors?</p>

            <li data-component="answer"  id="question1_6_2_opt_a">The programmer.</li><li data-component="feedback">Programmers rarely find all the syntax errors, there is a computer program that will do it for us.</li>
            
            <li data-component="answer" data-correct id="question1_6_2_opt_b">The compiler / interpreter.</li><li data-component="feedback">The compiler and / or interpreter is a computer program that determines if your program is written in a way that can be translated into machine language for execution.</li>
            
            <li data-component="answer"  id="question1_6_2_opt_c">The computer.</li><li data-component="feedback">Well, sort of.  But it is a special thing in the computer that does it.  The stand alone computer without this additional piece can not do it.</li>
            
            <li data-component="answer"  id="question1_6_2_opt_d">The teacher / instructor.</li><li data-component="feedback">Your teacher and instructor may be able to find most of your syntax errors, but only because they have experience looking at code and possibly writing code.  With experience syntax errors are easier to find.  But we also have an automated way of finding these types of errors.</li>
            

            </ul>
            </div>
            
    </div>
    <hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p>From: cppreference.com:
<a class="reference external" href="http://en.cppreference.com/w/cpp/error/assert">assert</a> and
<a class="reference external" href="http://en.cppreference.com/w/cpp/language/static_assert">static_assert</a>.</p></li>
<li><p><a class="reference external" href="http://heather.cs.ucdavis.edu/~matloff/UnixAndC/CLanguage/Debug.html">GDB tips</a></p></li>
<li><p><a class="reference external" href="https://www.cprogramming.com/gdb.html">GDB tutorial</a></p></li>
<li><p><a class="reference external" href="http://www.gnu.org/software/ddd/">DDD</a></p></li>
</ul>
</div>
</div>
</div>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" class="navLink" title='Previous Section - Version control' data-toggle="tooltip">
    <a href="version-control.html" aria-label="Version control">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%;"></i>
        </div>
    </a>
  </li>
</ul>
  <a class="navLinkBg" id="navLinkBgLeft"  href="version-control.html" aria-label="Version control"></a>
  
<ul>
  <li id="relations-next" class="navLink" title='Next Section - Frequently asked questions (FAQ)' data-toggle="tooltip" >
    <a href="../faq.html" aria-label="Frequently asked questions (FAQ)">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%;"></i>
      </div>
    </a>
  </li>
</ul>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="../faq.html" aria-label="Frequently asked questions (FAQ)">Next Section - Frequently asked questions (FAQ)</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2019 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 4.1.11.
    </p>
  </div>
</footer>





  </body>
</html>