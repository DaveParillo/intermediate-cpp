<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3.4. Error handling &#8212; Intermediate Modern C++ Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/matrixeq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webgldemo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webglinteractive.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js_lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/accessibility.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../_static/Blob.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Function overloads and templates" href="../function-overloads/toctree.html" />
    <link rel="prev" title="3.3. Keyword: auto" href="auto.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/intermediate-cpp/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'https://daveparillo.github.io/intermediate-cpp/' ? 'https://daveparillo.github.io/intermediate-cpp/' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/intermediate-cpp';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'intermediate-cpp';
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'cpp'
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = false;
  eBookConfig.basecourse = 'intermediate-cpp';
  eBookConfig.jobehost = 'https://cryptic-headland-94862.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.runestone_version = '3.0.7';
</script>


  </head>
  <body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='padding:12px 0;text-align:center' href="http://209.129.16.61/~dparillo/">
           <i class="glyphicon glyphicon-home" style='opacity:0.9;font-size:16px;color:#848484'></i>
        </a>
        <!--
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/intermediate-cpp/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="/~dparillo" style="color:#5080a0">CISC-187</a>&nbsp;
        -->
        <a class="navbar-brand" href="../index.html">Intermediate C++</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='https://daveparillo.github.io/intermediate-cpp//genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='https://daveparillo.github.io/intermediate-cpp//help/navhelp.html'>Navigation Help</a></li>
            <li><a href='https://daveparillo.github.io/intermediate-cpp//glossary.html'>Glossary</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">3.4. Error handling</a><ul>
<li><a class="reference internal" href="#returning-values">3.4.1. Returning values</a></li>
<li><a class="reference internal" href="#exceptions">3.4.2. Exceptions</a><ul>
<li><a class="reference internal" href="#standard-exceptions">3.4.2.1. Standard exceptions</a></li>
<li><a class="reference internal" href="#using-exceptions">3.4.2.2. Using exceptions</a></li>
<li><a class="reference internal" href="#exceptions-and-i-o-streams">3.4.2.3. Exceptions and I/O streams</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 3.3. Keyword: <code class="docutils literal"><span class="pre">auto</span></code>" data-toggle="tooltip">
    <a href="auto.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 4. Function overloads and templates' data-toggle="tooltip" >
    <a href="../function-overloads/toctree.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="error-handling">
<span id="index-0"></span><h1>3.4. Error handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h1>
<p>Error handling involves:</p>
<ul class="simple">
<li>Detecting an error</li>
<li>Transmitting information about an error to some handler code</li>
<li>Preserving the valid state of a program</li>
<li>Avoiding resource leaks</li>
</ul>
<div class="section" id="returning-values">
<h2>3.4.1. Returning values<a class="headerlink" href="#returning-values" title="Permalink to this headline">¶</a></h2>
<p>TBD.</p>
</div>
<div class="section" id="exceptions">
<span id="index-1"></span><h2>3.4.2. Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>An alternative to returning values from functions is to use <strong>exceptions</strong>.</p>
<p>A C++ exception is a response to an exceptional circumstance that occurs while a program is running,
such as an attempt to open a file that does not exist.</p>
<p>Exceptions provide a way to transfer control from one part of a program
(where the error occurs) to another (where the error is ‘handled’).
C++ exception handling is built upon three keywords: <code class="docutils literal"><span class="pre">try</span></code>, <code class="docutils literal"><span class="pre">catch</span></code>, and <code class="docutils literal"><span class="pre">throw</span></code>.</p>
<dl class="docutils">
<dt>throw</dt>
<dd>A program <strong>throws</strong> an exception when a problem shows up.</dd>
<dt>catch</dt>
<dd>A program <strong>catches</strong> an exception with an exception handler at the place
in a program where you want to handle the problem.</dd>
<dt>try</dt>
<dd>A <code class="docutils literal"><span class="pre">try</span></code> block identifies a block of code for which particular exceptions will be activated.
It’s followed by one or more <code class="docutils literal"><span class="pre">catch</span></code> blocks.</dd>
</dl>
<p>Basic anatomy of an exception</p>
<ol class="arabic simple">
<li>Surround potentially error throwing code in a <code class="docutils literal"><span class="pre">try</span></code> block</li>
<li>After the <code class="docutils literal"><span class="pre">try</span></code> block, include 1 or more <code class="docutils literal"><span class="pre">catch</span></code> blocks<ol class="loweralpha">
<li>The parameter in the catch identifies the type of exception the catch block will handle</li>
</ol>
</li>
</ol>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span class="n">try</span> <span class="p">{</span>
  <span class="c1">// execute potentially dangerous statements</span>
<span class="p">}</span>

<span class="c1">// catch a specific class of exceptions</span>
<span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Exception occurred.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Details: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>If you specify a <code class="docutils literal"><span class="pre">try</span></code>, you must include at least 1 <code class="docutils literal"><span class="pre">catch</span></code>.</p>
<p>Passing catch parameters by <em>const reference</em> is considered a best practice</p>
<ul>
<li><p class="first">std::exception.what()</p>
<ul class="simple">
<li>Returns a description of what caused the error</li>
</ul>
</li>
<li><p class="first">More than one <code class="docutils literal"><span class="pre">catch</span></code> block is acceptable</p>
</li>
<li><p class="first">The special catch</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">catch</span> <span class="p">(...)</span>
</pre></div>
</div>
</li>
</ul>
<p>will catch any exception.
If you use this, then you should be prepared to really handle <em>anything</em>.</p>
<div class="section" id="standard-exceptions">
<span id="index-2"></span><h3>3.4.2.1. Standard exceptions<a class="headerlink" href="#standard-exceptions" title="Permalink to this headline">¶</a></h3>
<p>The standard exceptions in C++ are organized in a class hierarchy.</p>
<ul class="simple">
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::exception">std::exception</a> is the base class for all exceptions</li>
<li>Classes derived from <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::exception">std::exception</a><ul>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::bad_alloc">std::bad_alloc</a>: thrown by <code class="docutils literal"><span class="pre">new</span></code> and other memory allocation errors</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::bad_cast">std::bad_cast</a>: thrown by <code class="docutils literal"><span class="pre">dynamic_cast</span></code> and similar</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::bad_typeid">std::bad_typeid</a>: thrown by <code class="docutils literal"><span class="pre">typeid</span></code></li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::bad_exception">std::bad_exception</a>: runtime unexpected or pointer exceptions</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::logic_error">std::logic_error</a>: exceptions that <em>should</em> be detected by reading the code</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::runtime_error">std::runtime_error</a>: exceptions that theoretically can’t be detected by reading the code</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::logic_error">std::logic_error</a>, and <code class="docutils literal"><span class="pre">std::runtime_error</span></code> are also exception bases</li>
</ul>
</li>
<li>Classes derived from <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::logic_error">std::logic_error</a><ul>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::domain_error">std::domain_error</a>: invalid mathematical domain</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::invalid_argument">std::invalid_argument</a>: bad parameters or arguments used</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::length_error">std::length_error</a>: Thrown when a std::string is too large</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::out_of_range">std::out_of_range</a>: Used for range checked access, vector.at(x)</li>
</ul>
</li>
<li>Classes derived from <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::runtime_error">std::runtime_error</a><ul>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::overflow_error">std::overflow_error</a>: mathematical overflow</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::range_error">std::range_error</a>: Thrown when storing an out of range value</li>
<li><a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::underflow_error">std::underflow_error</a>: mathematical underflow</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="using-exceptions">
<h3>3.4.2.2. Using exceptions<a class="headerlink" href="#using-exceptions" title="Permalink to this headline">¶</a></h3>
<p>C++ exceptions are designed to support <em>error handling</em>.</p>
<p>Use <code class="docutils literal"><span class="pre">throw</span></code> only to signal an error.
Use <code class="docutils literal"><span class="pre">catch</span></code> only to specify error handling actions when
you know you can handle it.
Possibly by translating it to another type and re-throwing an exception of that type.
For example, catching a <code class="docutils literal"><span class="pre">bad_alloc</span></code> and re-throwing a <code class="docutils literal"><span class="pre">no_space_for_file_buffers</span></code> exception.</p>
<p><strong>Do not</strong> use <code class="docutils literal"><span class="pre">throw</span></code> to catch a coding error in usage of a function.
Instead, use assert or other mechanism to either stop the program or log the error.</p>
<p><strong>Do not</strong> use <code class="docutils literal"><span class="pre">throw</span></code> if you discover an unexpected violation of an invariant of your component.
Instead, use <code class="docutils literal"><span class="pre">assert</span></code> or other mechanism to terminate the program.
Throwing an exception will not cure memory corruption and may lead to further corruption of important user data.</p>
<p>Use <code class="docutils literal"><span class="pre">try</span></code> and <code class="docutils literal"><span class="pre">catch</span></code> blocks
if the logic is more clear than checking a condition and returning a value.
For example,
if you need to propagate errors several levels up the stack:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">f1</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">try</span> <span class="p">{</span>
    <span class="n">f2</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">some_exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ... handle error</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">f2</span><span class="p">()</span> <span class="p">{</span> <span class="p">...;</span> <span class="n">f3</span><span class="p">();</span> <span class="p">...;</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">f3</span><span class="p">()</span> <span class="p">{</span> <span class="p">...;</span> <span class="n">f4</span><span class="p">();</span> <span class="p">...;</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">f4</span><span class="p">()</span> <span class="p">{</span> <span class="p">...;</span> <span class="n">f5</span><span class="p">();</span> <span class="p">...;</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">f5</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="cm">/*...some error condition...*/</span> <span class="p">)</span>
    <span class="k">throw</span> <span class="n">some_exception</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Only the code that detects the error, <code class="docutils literal"><span class="pre">f5()</span></code>,
and the code that handles the error, <code class="docutils literal"><span class="pre">f1()</span></code>, have any clutter.
None of the other functions have to worry about passing error codes either in return values
or in extra parameters that would have to be mutable.</p>
<p>Do not use <code class="docutils literal"><span class="pre">try</span></code> blocks to reclaim resources.
This is a Java technique,
which is great for Java, but is not needed in C++.
In C++, use Resource Acquisition Is Initialization (<a class="reference internal" href="../glossary.html#term-raii"><span class="xref std std-term">RAII</span></a>).</p>
<p>Use constructors to allocate resources
and use destructors to clean up resources,</p>
<p>Do not use <code class="docutils literal"><span class="pre">try</span></code> blocks as a proxy for error return codes.
This results in too many <code class="docutils literal"><span class="pre">try</span></code> blocks cluttering up functions,
which harms readability if nothing else.</p>
</div>
<div class="section" id="exceptions-and-i-o-streams">
<span id="index-3"></span><h3>3.4.2.3. Exceptions and I/O streams<a class="headerlink" href="#exceptions-and-i-o-streams" title="Permalink to this headline">¶</a></h3>
<p>I/O streams can be configured to throw exceptions with <code class="docutils literal"><span class="pre">std::basic_ios::exceptions</span></code>.
This object gets and sets the exception mask of the stream.
The exception mask set in the program determines which error states
in the stream will throw an exception if an error is encountered.
If no exception bits are set, then the I/O streams in C++ will not throw any exceptions.</p>
<p>For example:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">ifs</span><span class="p">(</span><span class="s">&quot;in.txt&quot;</span><span class="p">);</span>
<span class="n">ifs</span><span class="p">.</span><span class="n">exceptions</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ifstream</span><span class="o">::</span><span class="n">failbit</span><span class="p">);</span>
</pre></div>
</div>
<p>At this point, only the <code class="docutils literal"><span class="pre">failbit</span></code> will trigger an exception.</p>
<p>I/O Streams may throw <code class="docutils literal"><span class="pre">ios_base::failure</span></code>
But since C++11 this class inheritance changed.</p>
<p><code class="docutils literal"><span class="pre">ios_base::failure</span></code> inherits from <code class="docutils literal"><span class="pre">std::system_error</span></code></p>
<p>The end result is that <code class="docutils literal"><span class="pre">ios_base::failure</span></code> now has
an <code class="docutils literal"><span class="pre">error_code</span></code> member to the exception object it didn’t used to have.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">ios_base</span><span class="o">::</span><span class="n">failure</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;I/O exception occurred.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Details: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Code: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">code</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="first admonition-title">More to Explore</p>
<ul class="last simple">
<li><a class="reference external" href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-errors">CPP Core Guidelines: Error Handling</a></li>
<li><a class="reference external" href="https://isocpp.org/wiki/faq/exceptions">ISO C++ FAQ Exceptions</a></li>
<li><a class="reference external" href="http://www.acodersjourney.com/2016/08/top-15-c-exception-handling-mistakes-avoid/">Top 15 exception handling mistakes to avoid</a></li>
<li>Overview of the <a class="reference external" href="http://en.cppreference.com/w/cpp/error">error handling</a> library and
<a class="reference external" href="http://en.cppreference.com/w/cpp/language/exceptions">exceptions</a></li>
<li><a class="reference external" href="http://en.cppreference.com/w/cpp/language/try_catch">try-catch</a> and
<a class="reference external" href="http://en.cppreference.com/w/cpp/language/throw">throw</a></li>
<li>Post from Eric Lippert on
<a class="reference external" href="https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/">vexing exceptions</a></li>
</ul>
</div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 3.3. Keyword: <code class="docutils literal"><span class="pre">auto</span></code>' data-toggle="tooltip">
    <a href="auto.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="auto.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 4. Function overloads and templates' data-toggle="tooltip" >
    <a href="../function-overloads/toctree.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="../function-overloads/toctree.html" >Next Section - 4. Function overloads and templates</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2018 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 3.0.7.
    </p>
  </div>
</footer>



  </body>
</html>