<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.2. The string class &#8212; Intermediate Modern C++ Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/matrixeq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webgldemo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webglinteractive.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js_lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/accessibility.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../_static/Blob.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2.3. The vector class" href="vector.html" />
    <link rel="prev" title="2.1. Using string and vector" href="intro.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/intermediate-cpp/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'https://daveparillo.github.io/intermediate-cpp/' ? 'https://daveparillo.github.io/intermediate-cpp/' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/intermediate-cpp';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'intermediate-cpp';
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'cpp'
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = false;
  eBookConfig.basecourse = 'intermediate-cpp';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.runestone_version = '3.2.6';
</script>


  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='padding:12px 0;text-align:center' href="http://209.129.16.61/~dparillo/">
           <i class="glyphicon glyphicon-home" style='opacity:0.9;font-size:16px;color:#848484'></i>
        </a>
        <!--
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/intermediate-cpp/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="/~dparillo" style="color:#5080a0">CISC-187</a>&nbsp;
        -->
        <a class="navbar-brand" href="../index.html">Intermediate C++</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='https://daveparillo.github.io/intermediate-cpp//genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='https://daveparillo.github.io/intermediate-cpp//help/navhelp.html'>Navigation Help</a></li>
            <li><a href='https://daveparillo.github.io/intermediate-cpp//glossary.html'>Glossary</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">2.2. The string class</a><ul>
<li><a class="reference internal" href="#string-abstractions-in-c">2.2.1. String abstractions in C</a></li>
<li><a class="reference internal" href="#a-string-class-primer">2.2.2. A string class primer</a><ul>
<li><a class="reference internal" href="#getting-information-out-of-a-string">2.2.2.1. Getting information out of a string</a></li>
<li><a class="reference internal" href="#converting-a-std-string-to-c-string">2.2.2.2. Converting a std::string to C string</a></li>
</ul>
</li>
<li><a class="reference internal" href="#final-words">2.2.3. Final words</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 2.1. Using string and vector" data-toggle="tooltip">
    <a href="intro.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 2.3. The vector class' data-toggle="tooltip" >
    <a href="vector.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="the-string-class">
<h1>2.2. The string class<a class="headerlink" href="#the-string-class" title="Permalink to this headline">¶</a></h1>
<p>A short review of how string abstractions are handled in C,
followed by a short <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::string">std::string</a> primer.</p>
<div class="section" id="string-abstractions-in-c">
<h2>2.2.1. String abstractions in C<a class="headerlink" href="#string-abstractions-in-c" title="Permalink to this headline">¶</a></h2>
<p>In the C language,
the abstract idea of a string is implemented with an array of characters.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// the char array must be null terminated</span>
<span class="kt">char</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;h&#39;</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;o&#39;</span><span class="p">,</span> <span class="sc">&#39;\0&#39;</span><span class="p">};</span>  <span class="c1">// null == &#39;\0&#39;</span>

<span class="kt">char</span> <span class="n">b</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;h&#39;</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;o&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>     <span class="c1">// null == 0 also</span>

<span class="c1">// a quoted literal is just a special case of a char array</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">c</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Arrays of <code class="docutils literal notranslate"><span class="pre">char</span></code> that are null terminated are commonly called <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=C strings">C strings</a>.
Given the C string:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="p">[]</span> <span class="n">howdy</span> <span class="o">=</span> <span class="s">&quot;hi there!&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p id="index-0">In memory, <code class="docutils literal notranslate"><span class="pre">howdy</span></code> is automatically transformed into:</p>
<img src="../_images/graphviz-184b8a8c82766cbfb614f5da3eb9965b9440957c.png" alt="digraph char_array {
  fontname = &quot;Bitstream Vera Sans&quot;
  label=&quot;Character array in memory&quot;
  node [
     fontname = &quot;Courier&quot;
     fontsize = 14
     shape = &quot;record&quot;
     style=filled
     fillcolor=lightblue
  ]
  arr [
     label = &quot;{'h'|'i'|' '|'t'|'h'|'e'|'r'|'e'|'!'|'\\0'}&quot;;
  ]
  idx [
     color = white;
     fillcolor=white;
     label = &quot;{howdy[0]|howdy[1]|howdy[2]|howdy[3]|howdy[4]|howdy[5]|howdy[6]|howdy[7]|howdy[8]|howdy[9]}&quot;;
  ]


}" />
<p>The last character in the array, <code class="docutils literal notranslate"><span class="pre">'\0'</span></code> is the <em>null character</em>,
and is used to indicate the end of the string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Care must be taken to ensure that the array is large enough to hold
all of the characters AND the null terminator.
Forgetting to account for null,
or having a ‘off by one error’ is one of the most
common mistakes when working with C strings.</p>
</div>
<p id="index-1">A C string may allocate more memory that the characters currently stored in it.
An array declaration like this:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">hi</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>results in an in-memory representation like this:</p>
<img src="../_images/graphviz-1235df489dca10b46ae72c9574dd66e767be464e.png" alt="digraph c {
  rankdir=LR
  fontname = &quot;Bitstream Vera Sans&quot;
  label=&quot;Character array with reserve memory&quot;
  node [
     fontname = &quot;Courier&quot;
     fontsize = 14
     shape = &quot;record&quot;
     style=filled
     fillcolor=lightblue
  ]
  arr [
     label = &quot;{H|e|l|l|o|\\0| | | | }&quot;
  ]

}" />
<p>The array elements after the null are unused, but could be.
So, an array of size 10 has space for 4 more characters, 9 total.</p>
<p>A key limitation of C strings is that because they are arrays,
you must declare in advance how many characters the string will hold.
The compiler will always statically determine the size,
even if an explicit size is not provided.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="p">[]</span> <span class="n">hi</span>     <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>  <span class="c1">// size 6</span>
<span class="kt">char</span>   <span class="n">hi</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>  <span class="c1">// size 10</span>
</pre></div>
</div>
<p>C strings have an advantage of being extremely lightweight and simple.
Their main disadvantage is that they are too simple for many applications.
Their simplicity makes them a pain to work with,
which is why the Standard Template Library (STL) contains the <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=string">string</a> class.</p>
</div>
<div class="section" id="a-string-class-primer">
<h2>2.2.2. A string class primer<a class="headerlink" href="#a-string-class-primer" title="Permalink to this headline">¶</a></h2>
<p>Like a C string, a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> is simply a sequence of characters:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;        // access std::string functions</span><span class="cp"></span>

<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>       <span class="c1">// just use &#39;string&#39; for type std::string</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">x</span><span class="p">;</span>                          <span class="c1">// empty string</span>
  <span class="n">string</span> <span class="n">greet</span> <span class="o">=</span>  <span class="s">&quot;Hello, World!&quot;</span><span class="p">;</span>   <span class="c1">// create from C string</span>
  <span class="n">string</span> <span class="n">hello</span>   <span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>  <span class="c1">// as above, constructor style syntax</span>
  <span class="n">string</span> <span class="n">howdy</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">};</span>  <span class="c1">// C++11 only</span>
  <span class="n">string</span> <span class="n">howdy</span>   <span class="p">{</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">};</span>  <span class="c1">// as above, = is optional</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Unlike a C string, a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> is a full-fledged <em>object</em>.
It knows it’s own size, and comes with many convenience functions.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;cstdio&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">a</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span><span class="p">;</span>
  <span class="n">a</span> <span class="o">+=</span> <span class="s">&quot;, world!&quot;</span><span class="p">;</span>        <span class="c1">// joining strings is pretty easy</span>

  <span class="c1">// Copying or creating one string from another feels as natural</span>
  <span class="c1">// as a fundamental type.</span>
  <span class="n">string</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>             <span class="c1">// Same goes for comparisons</span>
  <span class="p">{</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;H&#39;</span><span class="p">;</span>           <span class="c1">// and a string feels like an &#39;array of char&#39;</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;W&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// and has stream support</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using the <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=string::operator[]">string::operator[]</a> to access select characters in a string is,
like an array,
not range checked.
This means that if you use an index referring to an invalid position,
then your program might have undefined behavior, or fail unexpectedly.
You can use the function <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=string::at()">string::at()</a> anywhere <code class="docutils literal notranslate"><span class="pre">operator[]</span></code> is allowed.
The <code class="docutils literal notranslate"><span class="pre">at</span></code> function is range checked.
While there is a cost associated with this check,
if the index provided is out of range,
then an <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::out_of_range">std::out_of_range</a> exception is thrown,
which must be caught,
otherwise the program will terminate.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">b</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="o">=</span> <span class="sc">&#39;H&#39;</span><span class="p">;</span>   <span class="c1">// might be OK</span>
  <span class="n">b</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="sc">&#39;W&#39;</span><span class="p">;</span>   <span class="c1">// never OK.  throws exception</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Remember that a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> is <strong>not</strong> a C string.
Declarations like this are a common source of confusion for new programmers:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">my_string</span> <span class="o">=</span> <span class="s">&quot;Howdy!&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>What type is <code class="docutils literal notranslate"><span class="pre">my_string</span></code>?</p>

    <div data-component="reveal" id="reveal_my_string"   data-showtitle="Show" data-hidetitle="Hide">
    <p><code class="docutils literal notranslate"><span class="pre">my_string</span></code> is <strong>not</strong> a std::string.</p>
<p>The default type for characters enclosed in double quotes is <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code>.</p>

    </div>
    <p>This is one of those situations where <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=auto">auto</a> may not be deducing the type
you actually want.
There are several simple ways to use auto <em>and</em> get the type
deduced to be a <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p>
<p>In C++14, you can simply append a <code class="docutils literal notranslate"><span class="pre">s</span></code> to the end of the string literal.
This identifies the literal as type std::string.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">my_string</span> <span class="o">=</span> <span class="s">&quot;Howdy!&quot;</span><span class="n">s</span><span class="p">;</span>    <span class="c1">// preferred</span>
</pre></div>
</div>
<p>Alternatively, you can call the string constructor explicitly, which
works for C++ versions older than C++14.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">my_string</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="s">&quot;Howdy!&quot;</span><span class="p">);</span>

<span class="k">auto</span> <span class="n">your_str</span>  <span class="o">=</span> <span class="n">string</span><span class="p">{</span><span class="s">&quot;Howdy!&quot;</span><span class="p">};</span>  <span class="c1">// C++11 initialization syntax</span>
</pre></div>
</div>
<div class="section" id="getting-information-out-of-a-string">
<h3>2.2.2.1. Getting information out of a string<a class="headerlink" href="#getting-information-out-of-a-string" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">string</span></code> knows its own size and can provide other useful information.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">my_string</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>

  <span class="n">assert</span><span class="p">(</span> <span class="n">my_string</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="p">);</span>  <span class="c1">// .length() is available also</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">my_string</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">my_string</span> <span class="o">+=</span> <span class="s">&quot;, there.&quot;</span><span class="p">;</span>       <span class="c1">// my_string == &quot;Hello, there.&quot;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the string class provides many functions dedicated to finding substrings
within a string.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">us</span> <span class="o">=</span> <span class="s">&quot;team&quot;</span><span class="n">s</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">us</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">&#39;i&#39;</span><span class="p">);</span>       <span class="c1">// auto pos is less typing</span>
  <span class="k">if</span><span class="p">(</span><span class="n">pos</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span> <span class="p">{</span>        <span class="c1">// true</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;There is no &#39;i&#39; in &#39;team&#39;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">auto</span> <span class="n">hi</span> <span class="o">=</span> <span class="s">&quot;Hello world&quot;</span><span class="n">s</span><span class="p">;</span>
  <span class="n">pos</span> <span class="o">=</span> <span class="n">hi</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;wor&quot;</span><span class="p">);</span>                 <span class="c1">// pos == 6</span>
  <span class="n">pos</span> <span class="o">=</span> <span class="n">hi</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">);</span>                   <span class="c1">// pos == 4</span>
  <span class="n">pos</span> <span class="o">=</span> <span class="n">hi</span><span class="p">.</span><span class="n">rfind</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">);</span>                  <span class="c1">// pos == 7</span>
  <span class="n">pos</span> <span class="o">=</span> <span class="n">hi</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="s">&quot;aeiou&quot;</span><span class="p">);</span>      <span class="c1">// pos == 1  (e)</span>
  <span class="n">pos</span> <span class="o">=</span> <span class="n">hi</span><span class="p">.</span><span class="n">find_first_not_of</span><span class="p">(</span><span class="s">&quot;aeiou&quot;</span><span class="p">);</span>  <span class="c1">// pos == 0  (H)</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The special value <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=std::string::npos">std::string::npos</a> is used both as an end of string indicator
by functions that expect a string and
as an indicator of <em>not found</em> by functions that return an index (like find).</p>
</div>
<div class="section" id="converting-a-std-string-to-c-string">
<h3>2.2.2.2. Converting a std::string to C string<a class="headerlink" href="#converting-a-std-string-to-c-string" title="Permalink to this headline">¶</a></h3>
<p>You cannot use <code class="docutils literal notranslate"><span class="pre">std::string</span></code> in a function
that expects <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code> - you must convert it
to a null terminated character array.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span> <span class="k">auto</span> <span class="n">my_name</span> <span class="o">=</span> <span class="s">&quot;Alice&quot;</span><span class="n">s</span><span class="p">;</span>


<span class="n">printf</span> <span class="p">(</span><span class="s">&quot;Hello again, %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">my_name</span><span class="p">);</span>       <span class="c1">// compile error!</span>

<span class="c1">// the c_str() function converts a string into a c string</span>
<span class="n">printf</span> <span class="p">(</span><span class="s">&quot;Hello again, %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">my_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="final-words">
<h2>2.2.3. Final words<a class="headerlink" href="#final-words" title="Permalink to this headline">¶</a></h2>
<p>This was a very brief introduction and barely captures what std::string
is capable of.
Check out the documentation at creference.com to get a feel for the functions
and capabilities available.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="first admonition-title">More to Explore</p>
<ul class="last simple">
<li>cppreference.com <a class="reference external" href="http://en.cppreference.com/w/cpp/string">Strings library</a> overview</li>
<li>YoLinux <a class="reference external" href="http://www.yolinux.com/TUTORIALS/LinuxTutorialC++StringClass.html">String class tutorial</a></li>
<li>Bjarne Stroustrup’s C++11 FAQ: <a class="reference external" href="http://www.stroustrup.com/C++11FAQ.html#raw-strings">Raw String literals</a></li>
<li>Mike Shahar post: <a class="reference external" href="https://shaharmike.com/cpp/std-string/">Exploring std::string</a></li>
</ul>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 2.1. Using string and vector' data-toggle="tooltip">
    <a href="intro.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="intro.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 2.3. The vector class' data-toggle="tooltip" >
    <a href="vector.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="vector.html" >Next Section - 2.3. The vector class</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2018 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 3.2.6.
    </p>
  </div>
</footer>



  </body>
</html>